;tox documentation: https://testrun.org/tox/latest/config.html

[tox]
; No plans to ever work with python < 3.5, depend on asyncio
; Ideally install python versions with pyenv and set to pyenv local
envlist = py35, py36, pylint, flake8
skip_missing_interpreters = True

[testenv]
deps =
  argparse
  discord.py
  google-api-python-client
  mock
  pytest
  pyyaml
  SQLalchemy
commands = python -m pytest {posargs}

[testenv:flake8]
basepython=python3.5
deps =
  argparse
  discord.py
  flake8
  google-api-python-client
  pyyaml
  SQLalchemy
commands = python -m flake8

[testenv:pylint]
basepython=python3.5
deps =
  argparse
  discord.py
  google-api-python-client
  mock
  pylint
  pytest
  pyyaml
  SQLalchemy
commands = - python -m pylint --rcfile=.pylintrc cog cogdb tests

[testenv:coverage]
basepython=python3.5
passenv =
  TRAVIS
  TRAVIS_BRANCH
  TRAVIS_JOB_ID
deps =
  argparse
  coveralls
  discord.py
  flake8
  google-api-python-client
  mock
  pytest
  pyyaml
  SQLalchemy
commands =
  coverage run setup.py test
  coverage report

[flake8]
exclude = .tox,*.egg*,build,docs,dist,venv,z_scratch
; Ignore some warnings, comma list
ignore = F403
max-complexity = 10
max-line-length = 100
statistics = 1

[pep8]
exclude = .tox,*.egg*,build,docs,dist,venv
; Ignore some warnings, comma list
;ignore =
statistics = 1

[pytest]
addopts = -s -v -rEfsxX --showlocals
norecursedirs = .eggs .git .tox build dist venv py3

;vim:set et sw=2 ts=4:
